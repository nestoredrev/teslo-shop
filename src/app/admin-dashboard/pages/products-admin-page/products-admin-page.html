<h1 class="text-2xl font-bold">Products List: {{ paginationService.currentPage() }}</h1>
<h3 class="text-lg">
    Total products: 
    <span class="text-primary">{{ productsResource.value().count }}</span>
</h3>

@if (productsResource.error()) {
    <h1 class="flex justify-center items-center text-error text-2xl">{{ productsResource.error()?.message }}</h1>
}

@if (productsResource.isLoading()) {
    <loader />
}

<div class="divider"></div>

<div class="flex justify-end">
    <button 
        class="btn btn-primary"
        routerLink="/admin/products/new">
        Add Product
    </button>
</div>

@if (productsResource.hasValue()) {
    <div class="flex gap-2 items-center h-20">
        <pagination [pages]="productsResource.value().pages" 
                    [currentPage]="paginationService.currentPage()" 
        />
        <select 
            #txtPerPage
            class="select select-bordered w-32"
            (change)="setPerPage(+txtPerPage.value)"
            >
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="20">20</option>
            <option value="50">50</option>
            <option value="100">100</option>
        </select>
    </div>
    
    <product-table [products]="productsResource.value().products" />
}

